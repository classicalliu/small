<div class="blog-header">
  <div class="blog-title">BLOG</div>
</div>

<nav class="navbar navbar-expand-sm navbar-light bg-white">
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <%= link_to posts_path, class: "nav-link #{judge_active(:posts, :index)}" do %>
          <%= t('layouts.header.posts') %>
        <% end %>
      </li>
      <% unless current_user.nil? %>
        <li class="nav-item">
          <%= link_to t('.new_post'), new_post_path, class: "nav-link #{judge_active(:posts, :new)}" %>
        </li>
      <% end %>
      <li class="nav-item">
        <% if current_user.nil? %>
          <%= link_to t('.login'), login_path, class: "nav-link #{judge_active(:sessions, :new)}" %>
        <% else %>
          <%= link_to t('.logout'), logout_path, class: "nav-link #{judge_active(:sessions, :destroy)}" %>
        <% end %>

      </li>
      <% if current_user&.admin? %>
        <li class="nav-item">
          <%= link_to t('.invite'), new_invitation_path, class: "nav-link #{judge_active(:invitations, :new)}" %>
        </li>
      <% end %>

      <li class="nav-item">
        <%= link_to t('.archive'), archive_path, class: "nav-link #{judge_active(:archives, :show)}" %>
      </li>

      <li class="nav-item">
        <%= link_to t('.rss'), feed_path, class: 'nav-link', "data-turbolinks": false %>
      </li>

      <% if logged_in? %>
        <li class="nav-item">
          <%= link_to t('.edit_author'), edit_author_path(current_user), class: "nav-link #{judge_active(:authors, :edit)}" %>
        </li>
      <% end %>

      <li class="nav-item">
        <%= link_to t(".reset_password"), new_password_reset_path, class: "nav-link #{judge_active(:password_resets, :new)}" %>
      </li>
    </ul>

    <% if logged_in? %>
      <span class="navbar-text">
        <%= current_user.email %>
      </span>
    <% end %>
  </div>
</nav>

<% if flash.any? %>
  <div class="alert alert-info">
    <% flash.each do |name, msg| %>
      <%= content_tag :div, msg, class: name %>
    <% end %>
  </div>
<% end %>
